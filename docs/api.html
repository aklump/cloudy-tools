<!DOCTYPE html>

<html>
<head>
  <title>Cloudy API</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--api">
<header>
  <div class="pager"><a href="README.html" class="prev README">&laquo;Cloudy</a><a href="index.html" class="index pager__book-title">Cloudy</a><a href="CHANGELOG.html" class="next changelog">Cloudy Changelog&raquo;</a></div></header>

  <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>

  <h1>Cloudy API</h1>
  <div class="breadcrumb"><a href="index.html">Index</a></div>

<section><section><h2>Cloudy Functions</h2>

<div class="function-index">
      <a href="#You should probably use get_config_as() instead as it&#039;s less brittle.">You should probably use get_config_as() instead as it&#039;s less brittle.</a>
      <a href="#array_csv">array_csv</a>
      <a href="#array_dedupe">array_dedupe</a>
      <a href="#array_has_value">array_has_value</a>
      <a href="#array_join">array_join</a>
      <a href="#array_map">array_map</a>
      <a href="#array_sort">array_sort</a>
      <a href="#array_sort_by_item_length">array_sort_by_item_length</a>
      <a href="#choose">choose</a>
      <a href="#confirm">confirm</a>
      <a href="#date8601">date8601</a>
      <a href="#debug">debug</a>
      <a href="#dir_has_files">dir_has_files</a>
      <a href="#echo_blue">echo_blue</a>
      <a href="#echo_blue_list">echo_blue_list</a>
      <a href="#echo_elapsed">echo_elapsed</a>
      <a href="#echo_error">echo_error</a>
      <a href="#echo_fail">echo_fail</a>
      <a href="#echo_green">echo_green</a>
      <a href="#echo_green_highlight">echo_green_highlight</a>
      <a href="#echo_green_list">echo_green_list</a>
      <a href="#echo_heading">echo_heading</a>
      <a href="#echo_key_value">echo_key_value</a>
      <a href="#echo_list">echo_list</a>
      <a href="#echo_pass">echo_pass</a>
      <a href="#echo_red">echo_red</a>
      <a href="#echo_red_highlight">echo_red_highlight</a>
      <a href="#echo_red_list">echo_red_list</a>
      <a href="#echo_slim_table">echo_slim_table</a>
      <a href="#echo_table">echo_table</a>
      <a href="#echo_task">echo_task</a>
      <a href="#echo_task_complete">echo_task_complete</a>
      <a href="#echo_task_failed">echo_task_failed</a>
      <a href="#echo_title">echo_title</a>
      <a href="#echo_warning">echo_warning</a>
      <a href="#echo_white">echo_white</a>
      <a href="#echo_yellow">echo_yellow</a>
      <a href="#echo_yellow_highlight">echo_yellow_highlight</a>
      <a href="#echo_yellow_list">echo_yellow_list</a>
      <a href="#event_dispatch">event_dispatch</a>
      <a href="#event_listen">event_listen</a>
      <a href="#exit_with_cache_clear">exit_with_cache_clear</a>
      <a href="#exit_with_failure">exit_with_failure</a>
      <a href="#exit_with_failure_code_only">exit_with_failure_code_only</a>
      <a href="#exit_with_failure_if_config_is_not_path">exit_with_failure_if_config_is_not_path</a>
      <a href="#exit_with_failure_if_empty_config">exit_with_failure_if_empty_config</a>
      <a href="#exit_with_help">exit_with_help</a>
      <a href="#exit_with_init">exit_with_init</a>
      <a href="#exit_with_success">exit_with_success</a>
      <a href="#exit_with_success_code_only">exit_with_success_code_only</a>
      <a href="#exit_with_success_elapsed">exit_with_success_elapsed</a>
      <a href="#fail">fail</a>
      <a href="#fail_because">fail_because</a>
      <a href="#function_exists">function_exists</a>
      <a href="#get_command">get_command</a>
      <a href="#get_command_arg">get_command_arg</a>
      <a href="#get_command_args">get_command_args</a>
      <a href="#get_config_as">get_config_as</a>
      <a href="#get_config_keys">get_config_keys</a>
      <a href="#get_config_keys_as">get_config_keys_as</a>
      <a href="#get_config_path">get_config_path</a>
      <a href="#get_config_path_as">get_config_path_as</a>
      <a href="#get_installed">get_installed</a>
      <a href="#get_option">get_option</a>
      <a href="#get_title">get_title</a>
      <a href="#get_version">get_version</a>
      <a href="#handle_init">handle_init</a>
      <a href="#has_command">has_command</a>
      <a href="#has_command_args">has_command_args</a>
      <a href="#has_failed">has_failed</a>
      <a href="#has_option">has_option</a>
      <a href="#has_options">has_options</a>
      <a href="#implement_cloudy_basic">implement_cloudy_basic</a>
      <a href="#is_installed">is_installed</a>
      <a href="#json_get">json_get</a>
      <a href="#json_get_value">json_get_value</a>
      <a href="#json_load_file">json_load_file</a>
      <a href="#json_set">json_set</a>
      <a href="#list_add_item">list_add_item</a>
      <a href="#list_clear">list_clear</a>
      <a href="#list_has_items">list_has_items</a>
      <a href="#md5_string">md5_string</a>
      <a href="#parse_args">parse_args</a>
      <a href="#path_extension">path_extension</a>
      <a href="#path_filename">path_filename</a>
      <a href="#path_filesize">path_filesize</a>
      <a href="#path_is_absolute">path_is_absolute</a>
      <a href="#path_mtime">path_mtime</a>
      <a href="#path_relative_to_config_base">path_relative_to_config_base</a>
      <a href="#path_relative_to_root">path_relative_to_root</a>
      <a href="#path_resolve">path_resolve</a>
      <a href="#path_unresolve">path_unresolve</a>
      <a href="#string_lower">string_lower</a>
      <a href="#string_repeat">string_repeat</a>
      <a href="#string_split">string_split</a>
      <a href="#string_ucfirst">string_ucfirst</a>
      <a href="#string_upper">string_upper</a>
      <a href="#succeed_because">succeed_because</a>
      <a href="#table_add_row">table_add_row</a>
      <a href="#table_clear">table_clear</a>
      <a href="#table_has_rows">table_has_rows</a>
      <a href="#table_set_header">table_set_header</a>
      <a href="#tempdir">tempdir</a>
      <a href="#throw">throw</a>
      <a href="#time_local">time_local</a>
      <a href="#timestamp">timestamp</a>
      <a href="#translate">translate</a>
      <a href="#url_add_cache_buster">url_add_cache_buster</a>
      <a href="#url_host">url_host</a>
      <a href="#validate_input">validate_input</a>
      <a href="#wait_for_any_key">wait_for_any_key</a>
      <a href="#warn_because">warn_because</a>
      <a href="#write_log">write_log</a>
      <a href="#write_log_alert">write_log_alert</a>
      <a href="#write_log_critical">write_log_critical</a>
      <a href="#write_log_debug">write_log_debug</a>
      <a href="#write_log_dev_warning">write_log_dev_warning</a>
      <a href="#write_log_emergency">write_log_emergency</a>
      <a href="#write_log_error">write_log_error</a>
      <a href="#write_log_info">write_log_info</a>
      <a href="#write_log_notice">write_log_notice</a>
      <a href="#write_log_warning">write_log_warning</a>
      <a href="#yaml_add_line">yaml_add_line</a>
      <a href="#yaml_clear">yaml_clear</a>
      <a href="#yaml_get">yaml_get</a>
      <a href="#yaml_get_json">yaml_get_json</a>
      <a href="#yaml_set">yaml_set</a>
  </div>

<h2>Cloudy Test Functions</h2>

<p>The following functions available with: <code>source
"$CLOUDY_ROOT/inc/cloudy.testing.sh"</code></p>

<div class="function-index">
      <a href="#assert_contains">assert_contains</a>
      <a href="#assert_count">assert_count</a>
      <a href="#assert_empty">assert_empty</a>
      <a href="#assert_equals">assert_equals</a>
      <a href="#assert_exit_status">assert_exit_status</a>
      <a href="#assert_false">assert_false</a>
      <a href="#assert_file_exists">assert_file_exists</a>
      <a href="#assert_file_not_exists">assert_file_not_exists</a>
      <a href="#assert_greater_than">assert_greater_than</a>
      <a href="#assert_internal_type">assert_internal_type</a>
      <a href="#assert_less_than">assert_less_than</a>
      <a href="#assert_not_contains">assert_not_contains</a>
      <a href="#assert_not_empty">assert_not_empty</a>
      <a href="#assert_not_equals">assert_not_equals</a>
      <a href="#assert_not_internal_type">assert_not_internal_type</a>
      <a href="#assert_reg_exp">assert_reg_exp</a>
      <a href="#assert_same">assert_same</a>
      <a href="#assert_true">assert_true</a>
      <a href="#create_test_sandbox">create_test_sandbox</a>
      <a href="#delete_test_sandbox">delete_test_sandbox</a>
      <a href="#do_tests_in">do_tests_in</a>
      <a href="#exit_with_test_results">exit_with_test_results</a>
      <a href="#is_being_tested">is_being_tested</a>
      <a href="#mark_test_skipped">mark_test_skipped</a>
      <a href="#test_fail_because">test_fail_because</a>
  </div>

<h2>Functions In Depth By Name</h2>

<div class="function-list">
      <a name="You should probably use get_config_as() instead as it&#039;s less brittle."></a>
    <h2>You should probably use get_config_as() instead as it&#039;s less brittle.()</h2>
    <p class="summary">@code
  eval $(get_config &#039;path.to.config&#039;)
@code</p>
    
        
        <pre><code>When requesting an array you must pass -a as the first argument if there&#039;s<br />
any chance that the return value will be empty.<br />
@code<br />
  eval $(get_config &#039;path.to.string&#039; &#039;default_value&#039;)<br />
  eval $(get_config -a &#039;path.to.array&#039; &#039;default_value&#039;)<br />
@code</code></pre>
        
      <a name="array_csv"></a>
    <h2>array_csv()</h2>
    <p class="summary">Echo $array_csv__array as CSV</p>
    
        
        <pre><code>@option --prose Use comma+space and then the word &quot;all&quot; as the final separator<br />
as when writing English prose, e.g. &quot;do, re and mi&quot;.<br />
@option --quotes Wrap each item with double quotes.<br />
@option --single-quotes Wrap each item with single quotes.<br />
@code<br />
  array_csv__array=(&#039;foo bar&#039; &#039;baz&#039; zulu)<br />
  csv=$(array_csv)<br />
@endcode</code></pre>
        
      <a name="array_dedupe"></a>
    <h2>array_dedupe()</h2>
    <p class="summary">Remove duplicate values from an array.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: string The VARIABLE NAME of the defined array.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        <pre><code>Beware the order of the array will most likely be altered.<br />
@code<br />
  declare -a duplicated=(&quot;blue&quot; &quot;red&quot; &quot;blue&quot; &quot;yellow&quot;);<br />
  eval $(array_dedupe duplicated)<br />
@endcode</code></pre>
        
      <a name="array_has_value"></a>
    <h2>array_has_value()</h2>
    <p class="summary">Search $array_has_value__array for a value.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The value to search for in array.</li>
                        </ul>
        
        <pre><code>array_has_value__array<br />
You must provide your array as $array_has_value__array like so:<br />
@code<br />
  array_has_value__array=(&quot;${some_array_to_search[@]}&quot;)<br />
  array_has_value &quot;tree&quot; &amp;&amp; echo &quot;found tree&quot;<br />
@endcode</code></pre>
        
      <a name="array_join"></a>
    <h2>array_join()</h2>
    <p class="summary">Echo a string, which is an array joined by a substring.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to use to glue the pieces together with.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if all goes well; 1 on failure.</li>
            </ul>
        
        <pre><code>array_join__array</code></pre>
        
      <a name="array_map"></a>
    <h2>array_map()</h2>
    <p class="summary">Apply a callback to every item in an array and echo new array eval statement.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: string The VARIABLE NAME of the defined array.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        <pre><code>array_map__callback<br />
The array_map__callback has to be re-defined for each call of array_map and receives the value of an array item as<br />
it&#039;s argument.  The example here expects that user_patterns is an array, already defined.  The array user_patterns is<br />
mutated by the eval statement at the end.<br />
@code<br />
  function array_map__callback {<br />
      echo &quot;&lt;h1&gt;$1&lt;/h1&gt;&quot;<br />
  }<br />
  declare -a titles=(&quot;The Hobbit&quot; &quot;Charlottes Web&quot;);<br />
  eval $(array_map titles)<br />
@endcode</code></pre>
        
      <a name="array_sort"></a>
    <h2>array_sort()</h2>
    <p class="summary">Mutate an array sorting alphabetically.</p>
    
        
        <pre><code>array_sort__array</code></pre>
        
      <a name="array_sort_by_item_length"></a>
    <h2>array_sort_by_item_length()</h2>
    <p class="summary">Mutate an array sorting by the length of each item, short ot long</p>
    
        
        <pre><code>array_sort__array<br />
@code<br />
 array_sort_by_item_length__array=(&quot;september&quot; &quot;five&quot; &quot;three&quot; &quot;on&quot;)<br />
 array_sort_by_item_length<br />
@endcode</code></pre>
        
      <a name="assert_contains"></a>
    <h2>assert_contains()</h2>
    <p class="summary">Assert that an array contains a value.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The value to search for.</li>
              <li>$2: The name of a global variable.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_count"></a>
    <h2>assert_count()</h2>
    <p class="summary">Assert that an array has a given number of elements.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected length.</li>
              <li>$2: The name of a global array.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_empty"></a>
    <h2>assert_empty()</h2>
    <p class="summary">Assert that variable by name is empty.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The name of a global variable.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_equals"></a>
    <h2>assert_equals()</h2>
    <p class="summary">Assert that two values are equal in value but not necessarily type.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected value.</li>
              <li>$2: The value to test.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_exit_status"></a>
    <h2>assert_exit_status()</h2>
    <p class="summary">Assert a function returns a given exit code.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$: </li>
                        </ul>
        
        <pre><code>Here are three examples of how to call...<br />
@code<br />
  array_sort; assert_exit_status 0<br />
  $(has_option &#039;name&#039;); assert_exit_status 0<br />
  has_option &#039;name&#039; &gt; /dev/null; assert_exit_status 0<br />
@endcode</code></pre>
        
      <a name="assert_false"></a>
    <h2>assert_false()</h2>
    <p class="summary">Assert that a value equals &quot;false&quot; or &quot;FALSE&quot;.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The value to test.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_file_exists"></a>
    <h2>assert_file_exists()</h2>
    <p class="summary">Assert that a file exists by path.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The filepath of the expected file.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_file_not_exists"></a>
    <h2>assert_file_not_exists()</h2>
    <p class="summary">Assert that a file does not exist at path.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The filepath to ensure does not exist.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_greater_than"></a>
    <h2>assert_greater_than()</h2>
    <p class="summary">Asset one number is greater than another.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The target value.</li>
              <li>$2: The number than should be greater than the target.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if  $2 is &gt; $1</li>
            </ul>
        
        
      <a name="assert_internal_type"></a>
    <h2>assert_internal_type()</h2>
    <p class="summary">Assert that an global variable is of a given type.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected type.</li>
              <li>$2: The name of a global variable.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_less_than"></a>
    <h2>assert_less_than()</h2>
    <p class="summary">Asset one number is less than another.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The target value.</li>
              <li>$2: The number than should be less than the target.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if  $2 is &lt; $1</li>
            </ul>
        
        
      <a name="assert_not_contains"></a>
    <h2>assert_not_contains()</h2>
    <p class="summary">Assert that an array does not contain a value.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The value to search for.</li>
              <li>$2: The name of a global variable.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_not_empty"></a>
    <h2>assert_not_empty()</h2>
    <p class="summary">Assert that variable by name is not empty.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The actual value</li>
              <li>$2: A custom message on failure.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_not_equals"></a>
    <h2>assert_not_equals()</h2>
    <p class="summary">Assert that two values are not the same.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected value.</li>
              <li>$2: The value to test.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_not_internal_type"></a>
    <h2>assert_not_internal_type()</h2>
    <p class="summary">Assert that an global variable is not of a given type.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected type.</li>
              <li>$2: The name of a global variable.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_reg_exp"></a>
    <h2>assert_reg_exp()</h2>
    <p class="summary">Assert that a value matches a regular expression.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The regular expression.</li>
              <li>$2: The value to match against the regexp.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="assert_same"></a>
    <h2>assert_same()</h2>
    <p class="summary">Assert that two values are equal and of the same type.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected value.</li>
              <li>$2: The value to test.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        <pre><code>@todo is this needed, since bash is untyped?</code></pre>
        
      <a name="assert_true"></a>
    <h2>assert_true()</h2>
    <p class="summary">Assert that a value equals &quot;true&quot; or &quot;TRUE&quot;.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The value to test.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <a name="choose"></a>
    <h2>choose()</h2>
    <p class="summary">Present a multiple choice selection list to the user.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to display</li>
              <li>$2: Optional.  Alter the option to display for cancel.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 and echos the choice if one was selected; returns 1 if cancelled.</li>
            </ul>
        
        
      <a name="confirm"></a>
    <h2>confirm()</h2>
    <p class="summary">Prompt for a Y or N confirmation.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The confirmation message</li>
                    </ul>Options: <ul class="function-list__options">
                  <li>--caution: Use when answering Y requires caution.</li>
                  <li>--danger: Use when answering Y is a dangerous thing.</li>
                            </ul><ul class="function-list__return"><li>Returns 0 if the user answers Y; 1 if not.</li>
            </ul>
        
        
      <a name="create_test_sandbox"></a>
    <h2>create_test_sandbox()</h2>
    <p class="summary">Create a sandbox for testing.</p>
    
        
        <pre><code>Some global variables need to be stashed during testing, such as those<br />
to do with the exit system.<br />
@see delete_test_sandbox</code></pre>
        
      <a name="date8601"></a>
    <h2>date8601()</h2>
    <p class="summary">Return the current datatime in ISO8601 in UTC.</p>
    
        
        <pre><code>options -<br />
  -c - Remove hyphens and colons for use in a filename</code></pre>
        
      <a name="debug"></a>
    <h2>debug()</h2>
    <p class="summary">Echo the arguments sent to this is an eye-catching manner.</p>
    
        
        <pre><code>Call as in the example below for better tracing.<br />
@code<br />
  debug &quot;Some message to show|$0|$FUNCNAME|$LINENO&quot;<br />
@endcode</code></pre>
        
      <a name="delete_test_sandbox"></a>
    <h2>delete_test_sandbox()</h2>
    <p class="summary">Remove the sandboxed variables.</p>
    
        
        <pre><code>@see create_test_sandbox</code></pre>
        
      <a name="dir_has_files"></a>
    <h2>dir_has_files()</h2>
    <p class="summary">Determine if a given directory has any non-hidden files or directories.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to a directory to check</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the path contains non-hidden files directories; 1 if not.</li>
            </ul>
        
        
      <a name="do_tests_in"></a>
    <h2>do_tests_in()</h2>
    <p class="summary">Perform all tests in a file.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to a test file.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if all tests pass; 1 otherwise.</li>
            </ul>
        
        
      <a name="echo_blue"></a>
    <h2>echo_blue()</h2>
    <p class="summary">Echo a string with blue text.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_blue_list"></a>
    <h2>echo_blue_list()</h2>
    <p class="summary">@param $echo_list__array</p>
    
        
        
      <a name="echo_elapsed"></a>
    <h2>echo_elapsed()</h2>
    <p class="summary">Echo the elapsed time since the beginning of the script.</p>
    
        
        
      <a name="echo_error"></a>
    <h2>echo_error()</h2>
    <p class="summary">Echo an error message</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The error message.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_fail"></a>
    <h2>echo_fail()</h2>
    <p class="summary">Echo a message indicating a failed test result.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to print</li>
                        </ul>
        
        
      <a name="echo_green"></a>
    <h2>echo_green()</h2>
    <p class="summary">Echo a string with green text.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_green_highlight"></a>
    <h2>echo_green_highlight()</h2>
    <p class="summary">Echo a string with a green background.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_green_list"></a>
    <h2>echo_green_list()</h2>
    <p class="summary">@param $echo_list__array</p>
    
        
        
      <a name="echo_heading"></a>
    <h2>echo_heading()</h2>
    <p class="summary">Echo a heading string.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The heading string.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_key_value"></a>
    <h2>echo_key_value()</h2>
    <p class="summary">$DESCRIPTION</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: $PARAM$</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if $END$.</li>
            </ul>
        
        
      <a name="echo_list"></a>
    <h2>echo_list()</h2>
    <p class="summary">Echo an array as a bulleted list (does not clear list)</p>
    
        
        <pre><code>@param $echo_list__array<br />
You must add items to your list first:<br />
@code<br />
  list_add_item &quot;List item&quot;<br />
  echo_list<br />
  list_clear<br />
@endcode<br />
@see echo_list__array=(&quot;${some_array_to_echo[@]}&quot;)</code></pre>
        
      <a name="echo_pass"></a>
    <h2>echo_pass()</h2>
    <p class="summary">Echo a message indicating a passed test result.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to print</li>
                        </ul>
        
        
      <a name="echo_red"></a>
    <h2>echo_red()</h2>
    <p class="summary">Echo a string with red text.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_red_highlight"></a>
    <h2>echo_red_highlight()</h2>
    <p class="summary">Echo a string with a red background.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_red_list"></a>
    <h2>echo_red_list()</h2>
    <p class="summary">@param $echo_list__array</p>
    
        
        
      <a name="echo_slim_table"></a>
    <h2>echo_slim_table()</h2>
    <p class="summary">Echo a slim version of the table as it&#039;s been defined.</p>
    
        
        
      <a name="echo_table"></a>
    <h2>echo_table()</h2>
    <p class="summary">Echo the table as it&#039;s been defined.</p>
    
        
        
      <a name="echo_task"></a>
    <h2>echo_task()</h2>
    <p class="summary">Echo a task has started, a.k.a, pending.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The imperative, e.g., &quot;Download all files&quot;</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        <pre><code>This should be followed by echo_task_complete or echo_task_failed.<br />
@see echo_task_complete<br />
@see echo_task_failed</code></pre>
        
      <a name="echo_task_complete"></a>
    <h2>echo_task_complete()</h2>
    <p class="summary">Replace the task pending with success.</p>
    
        
        <pre><code>@see echo_task<br />
@see echo_task_failed</code></pre>
        
      <a name="echo_task_failed"></a>
    <h2>echo_task_failed()</h2>
    <p class="summary">Replace the task pending with failure.</p>
    
        
        <pre><code>@see echo_task<br />
@see echo_task_complete</code></pre>
        
      <a name="echo_title"></a>
    <h2>echo_title()</h2>
    <p class="summary">Echo a title string.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The title string.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_warning"></a>
    <h2>echo_warning()</h2>
    <p class="summary">Echo a warning message</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The warning message.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_white"></a>
    <h2>echo_white()</h2>
    <p class="summary">Echo a string with white text.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_yellow"></a>
    <h2>echo_yellow()</h2>
    <p class="summary">Echo a string with yellow text.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_yellow_highlight"></a>
    <h2>echo_yellow_highlight()</h2>
    <p class="summary">Echo a string with a yellow background.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="echo_yellow_list"></a>
    <h2>echo_yellow_list()</h2>
    <p class="summary">@param $echo_list__array</p>
    
        
        
      <a name="event_dispatch"></a>
    <h2>event_dispatch()</h2>
    <p class="summary">Dispatch that an event has occurred to all listeners.</p>
    
        
        <pre><code>Additional arguments beyond $1 are passed on to the listeners.</code></pre>
        
      <a name="event_listen"></a>
    <h2>event_listen()</h2>
    <p class="summary">Register an event listener.</p>
    
        
        
      <a name="exit_with_cache_clear"></a>
    <h2>exit_with_cache_clear()</h2>
    <p class="summary">Empties caches in $CLOUDY_ROOT (or other directory if provided) and exits.</p>
    
        
        
      <a name="exit_with_failure"></a>
    <h2>exit_with_failure()</h2>
    <p class="summary">@option --status=N Optional, set the exit status, a number &gt; 0</p>
    
        
        
      <a name="exit_with_failure_code_only"></a>
    <h2>exit_with_failure_code_only()</h2>
    <p class="summary">Exit without echoing anything with a non-success code.</p>
    
        
        <pre><code>@option --status=N Optional, set the exit status, a number &gt; 0</code></pre>
        
      <a name="exit_with_failure_if_config_is_not_path"></a>
    <h2>exit_with_failure_if_config_is_not_path()</h2>
    <p class="summary">Checks if a variable has been evaluated into memory and points to an existing path.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The alias.  Or if not aliased, the config path used by `get_config`.</li>
              <li>$2: (Optional) The config path, if aliased.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the variable exists and points to a file; exits otherwise with 1.</li>
            </ul>
        
        <pre><code>Both of these aliase examples are the same, though the --as is an older syntax<br />
that has been deprecated.<br />
@code<br />
  exit_with_failure_if_empty_config &#039;database.host&#039;<br />
## Using an alias...<br />
  exit_with_failure_if_empty_config &#039;host&#039; &#039;database.host&#039;<br />
## Aliased, deprecated syntax.<br />
  exit_with_failure_if_empty_config &#039;database.host&#039; --as=host<br />
@endcode</code></pre>
        
      <a name="exit_with_failure_if_empty_config"></a>
    <h2>exit_with_failure_if_empty_config()</h2>
    <p class="summary">Checks if a variable has been evaluated into memory yet or exits with failure.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The alias.  Or if not aliased, the config path used by `get_config`.</li>
              <li>$2: (Optional) The config path, if aliased.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the variable is in memory.</li>
            </ul>
        
        <pre><code>Both of these aliase examples are the same, though the --as is an older syntax<br />
that has been deprecated.<br />
@code<br />
  exit_with_failure_if_empty_config &#039;database.host&#039;<br />
## Using an alias...<br />
  exit_with_failure_if_empty_config &#039;host&#039; &#039;database.host&#039;<br />
## Aliased, deprecated syntax.<br />
  exit_with_failure_if_empty_config &#039;database.host&#039; --as=host<br />
@endcode</code></pre>
        
      <a name="exit_with_help"></a>
    <h2>exit_with_help()</h2>
    <p class="summary">Echo the help screen and exit.</p>
    
        
        
      <a name="exit_with_init"></a>
    <h2>exit_with_init()</h2>
    <p class="summary">Performs an initialization (setup default config, etc.) and exits.</p>
    
        
        <pre><code>You must set up an init command in your core config file.<br />
Then call this function from inside `on_pre_config`, e.g.<br />
[[ &quot;$(get_command)&quot; == &quot;init&quot; ]] &amp;&amp; exit_with_init<br />
The translation service is not yet bootstrapped in on_pre_config, so if you<br />
want to alter the strings printed you can do something like this:<br />
if [[ &quot;$(get_command)&quot; == &quot;init&quot; ]]; then<br />
    CLOUDY_FAILED=&quot;Initialization failed.&quot;<br />
    CLOUDY_SUCCESS=&quot;Initialization complete.&quot;<br />
    exit_with_init<br />
fi</code></pre>
        
      <a name="exit_with_success"></a>
    <h2>exit_with_success()</h2>
    <p class="summary">Echo a success message plus success reasons and exit</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The success message to use.</li>
                          </ul><ul class="function-list__return"><li>Returns 0.</li>
            </ul>
        
        
      <a name="exit_with_success_code_only"></a>
    <h2>exit_with_success_code_only()</h2>
    <p class="summary">Exit without echoing anything with a 0 status code.</p>
    
        
        
      <a name="exit_with_success_elapsed"></a>
    <h2>exit_with_success_elapsed()</h2>
    <p class="summary">Echo a success message (with elapsed time) plus success reasons and exit</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The success message to use.</li>
                          </ul><ul class="function-list__return"><li>Returns 0.</li>
            </ul>
        
        
      <a name="exit_with_test_results"></a>
    <h2>exit_with_test_results()</h2>
    <p class="summary">Echo test results and exit.</p>
    
        
        
      <a name="fail"></a>
    <h2>fail()</h2>
    <p class="summary">Set the exit status to fail with no message.  Does not stop execution.</p>
    
        
        <pre><code>Try not to use this because it gives no indication as to why<br />
@option --status=N Optional, set the exit status, a number &gt; 0<br />
@see exit_with_failure</code></pre>
        
      <a name="fail_because"></a>
    <h2>fail_because()</h2>
    <p class="summary">Add a failure message to be shown on exit.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: string The reason for the failure.</li>
              <li>$2: string A default value if $1 is empty.</li>
                          </ul><ul class="function-list__return"><li>Returns 1 if both $message and $default are empty. 0 otherwise.</li>
            </ul>
        
        <pre><code>@code<br />
  fail_because &quot;$reason&quot; &quot;Some default if $reason is empty&quot;<br />
@endcode</code></pre>
        
      <a name="function_exists"></a>
    <h2>function_exists()</h2>
    <p class="summary">Determine if a function has been defined.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: string The name of the function to check.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if defined; 1 otherwise.</li>
            </ul>
        
        
      <a name="get_command"></a>
    <h2>get_command()</h2>
    <p class="summary">Echo the command that was used to call the script.</p>
    
        
        
      <a name="get_command_arg"></a>
    <h2>get_command_arg()</h2>
    <p class="summary">Return a operation argument by zero-based index key.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: int The index of the argument</li>
              <li>$2: mixed Optional, default value.</li>
                        </ul>
        
        <pre><code>As an example see the following code:<br />
@code<br />
  ./script.sh action blue apple<br />
  get_command --&gt; &quot;action&quot;<br />
  get_command_arg 0 --&gt; &quot;blue&quot;<br />
  get_command_arg 1 --&gt; &quot;apple&quot;<br />
@endcode<br />
Returns 0 if found, 2 if using the default.</code></pre>
        
      <a name="get_command_args"></a>
    <h2>get_command_args()</h2>
    <p class="summary">Echo all command arguments</p>
    
        
        <pre><code>If options are mixed in they will be stripped out, that is to say, if the<br />
script was called like this &quot;script.sh do -f re -h mi&quot;, this function will<br />
echo &quot;do re mi&quot;</code></pre>
        
      <a name="get_config_as"></a>
    <h2>get_config_as()</h2>
    <p class="summary">Get config path but assign it&#039;s value to a custom variable.</p>
    
        
        <pre><code>@code<br />
  eval $(get_config_as &#039;title&#039; &#039;path.to.some.title&#039; &#039;default&#039;)<br />
  eval $(get_config_as &#039;title&#039; -a &#039;path.to.some.array&#039; )<br />
@code</code></pre>
        
      <a name="get_config_keys"></a>
    <h2>get_config_keys()</h2>
    <p class="summary">Echos eval code for the keys of a configuration associative array.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to the config item, e.g. &quot;files.private&quot;</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <a name="get_config_keys_as"></a>
    <h2>get_config_keys_as()</h2>
    <p class="summary">Echo eval code for keys of a configuration associative array using custom var.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to the config item, e.g. &quot;files.private&quot;</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <a name="get_config_path"></a>
    <h2>get_config_path()</h2>
    <p class="summary">Echo eval code for paths of a configuration item.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to the config item, e.g. &quot;files.private&quot;</li>
                    </ul>Options: <ul class="function-list__options">
                  <li>-a: If you are expecting an array</li>
                            </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        <pre><code>Relative paths are made absolute using $APP_ROOT.</code></pre>
        
      <a name="get_config_path_as"></a>
    <h2>get_config_path_as()</h2>
    <p class="summary">Echo eval code for paths of a configuration item using custom var.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The variable name to assign the value to.</li>
              <li>$2: The path to the config item, e.g. &quot;files.private&quot;</li>
                    </ul>Options: <ul class="function-list__options">
                  <li>-a: If you are expecting an array</li>
                            </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        <pre><code>Relative paths are made absolute using $APP_ROOT.</code></pre>
        
      <a name="get_installed"></a>
    <h2>get_installed()</h2>
    <p class="summary">Echo the path to an installed program.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The name of the program you need.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if .</li>
            </ul>
        
        
      <a name="get_option"></a>
    <h2>get_option()</h2>
    <p class="summary">Echo the value of a script option, or a default.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The name of the option</li>
              <li>$2: A default value if the option was not used.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the option was used; 2 if the default is echoed.</li>
            </ul>
        
        
      <a name="get_title"></a>
    <h2>get_title()</h2>
    <p class="summary">Echo the title as defined in the configuration.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: A default value if no title is defined.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="get_version"></a>
    <h2>get_version()</h2>
    <p class="summary">Echos the version of the script.</p>
    
        
        
      <a name="handle_init"></a>
    <h2>handle_init()</h2>
    <p class="summary">Performs an initialization (setup default config, etc.)</p>
    
        
        <pre><code>You must set up an init command in your core config file.<br />
Then call this function from inside `on_pre_config`, e.g.<br />
[[ &quot;$(get_command)&quot; == &quot;init&quot; ]] &amp;&amp; handle_init<br />
...do your extra work here...<br />
exit_with...<br />
You should only call this function if you need to do something additional in<br />
your init step, where you don&#039;t want to exit.  If not, you should use<br />
exit_with_init, instead.<br />
The translation service is not yet bootstrapped in on_pre_config, so if you<br />
want to alter the strings printed you can do something like this:<br />
if [[ &quot;$(get_command)&quot; == &quot;init&quot; ]]; then<br />
    CLOUDY_FAILED=&quot;Initialization failed.&quot;<br />
    CLOUDY_SUCCESS=&quot;Initialization complete.&quot;<br />
    exit_with_init<br />
fi</code></pre>
        
      <a name="has_command"></a>
    <h2>has_command()</h2>
    <p class="summary">Determine if the script was called with a command.</p>
    
        
        
      <a name="has_command_args"></a>
    <h2>has_command_args()</h2>
    <p class="summary">Determine if there are any arguments for the script &quot;command&quot;.</p>
    
        
        
      <a name="has_failed"></a>
    <h2>has_failed()</h2>
    <p class="summary">Determine if any failure reasons have been defined yet.</p>
    
        
        
      <a name="has_option"></a>
    <h2>has_option()</h2>
    <p class="summary">Determine if the script was called with a given option.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The option to check for.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the option was used; 1 if not.</li>
            </ul>
        
        
      <a name="has_options"></a>
    <h2>has_options()</h2>
    <p class="summary">Determine if any options were used when calling the script.</p>
    
        
        
      <a name="implement_cloudy_basic"></a>
    <h2>implement_cloudy_basic()</h2>
    <p class="summary">Implement cloudy common commands and options.</p>
    
        
        <pre><code>An optional set of commands for all scripts.  This is just the handlers,<br />
you must still set up the commands in the config file as usual.</code></pre>
        
      <a name="is_being_tested"></a>
    <h2>is_being_tested()</h2>
    <p class="summary">Determine if code is being run from inside a test.</p>
    
        
        
      <a name="is_installed"></a>
    <h2>is_installed()</h2>
    <p class="summary">Test if a program is installed on the system.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The name of the program to check for.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if installed; 1 otherwise.</li>
            </ul>
        
        
      <a name="json_get"></a>
    <h2>json_get()</h2>
    <p class="summary">Echo the JSON string as set</p>
    
        
        <pre><code>@code<br />
  json=&quot;$(json_get)&quot;<br />
@endcode</code></pre>
        
      <a name="json_get_value"></a>
    <h2>json_get_value()</h2>
    <p class="summary">Echo a value by dot-path in the set/loaded JSON.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The dot path, e.g. &#039;foo.bar&#039;</li>
                        </ul>
        
        <pre><code>If the path is invalid, an empty string is echoed.  Be sure to wrap in double quotes to protect values that contain spaces.<br />
@code<br />
  json_set &#039;{&quot;foo&quot;:{&quot;bar&quot;:&quot;baz et al&quot;}}&#039;<br />
  value=&quot;$(json_get_value foo.bar)&quot;<br />
@endcode</code></pre>
        
      <a name="json_load_file"></a>
    <h2>json_load_file()</h2>
    <p class="summary">Load a JSON file to be read by json_get_value.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: Path to a valid JSON file</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if JSON is valid. 1 if not.</li>
            </ul>
        
        
      <a name="json_set"></a>
    <h2>json_set()</h2>
    <p class="summary">Set a JSON string to be later read by json_get_value().</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: A JSON string, wrapped by single quotes.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the JSON is valid; 1 otherwise.</li>
            </ul>
        
        <pre><code>Call this once to put your json string into memory, then make unlimited calls<br />
to json_get_value as necessary.  You may check the return code to ensure JSON syntax<br />
is valid.  If your string contains single quotes, you will need to escape them.<br />
@code<br />
  json_set &#039;{&quot;foo&quot;:{&quot;bar&quot;:&quot;baz et al&quot;}}&#039;<br />
@endcode</code></pre>
        
      <a name="list_add_item"></a>
    <h2>list_add_item()</h2>
    <p class="summary">Add an item to the list.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to add as a list item.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        <pre><code>echo_list__array</code></pre>
        
      <a name="list_clear"></a>
    <h2>list_clear()</h2>
    <p class="summary">Remove all items from the list.</p>
    
        
        
      <a name="list_has_items"></a>
    <h2>list_has_items()</h2>
    <p class="summary">Detect if the list has any items.</p>
    
        
        
      <a name="mark_test_skipped"></a>
    <h2>mark_test_skipped()</h2>
    <p class="summary">Mark a single test as skipped</p>
    
        
        
      <a name="md5_string"></a>
    <h2>md5_string()</h2>
    <p class="summary">Echo the md5 hash of a string.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$: </li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the string was able to be hashed.</li>
            </ul>
        
        
      <a name="parse_args"></a>
    <h2>parse_args()</h2>
    <p class="summary">Parses arguments into options, args and option values.</p>
    
        
        <pre><code>Use this in your my_func function: parse_args &quot;$@&quot;<br />
The following variables are generated for:<br />
@code<br />
  my_func -ab --tree=life do re<br />
@endcode</code></pre>
        
      <a name="path_extension"></a>
    <h2>path_extension()</h2>
    <p class="summary">Return the extension of a file.</p>
    
        
        
      <a name="path_filename"></a>
    <h2>path_filename()</h2>
    <p class="summary">Return the basename less the extension.</p>
    
        
        
      <a name="path_filesize"></a>
    <h2>path_filesize()</h2>
    <p class="summary">Echo the size of a file.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to the file.</li>
                        </ul>
        
        
      <a name="path_is_absolute"></a>
    <h2>path_is_absolute()</h2>
    <p class="summary">Determine if a path is absolute (begins with /) or not.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The filepath to check</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if absolute; 1 otherwise.</li>
            </ul>
        
        
      <a name="path_mtime"></a>
    <h2>path_mtime()</h2>
    <p class="summary">Echo the last modified time of a file.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to the the file.</li>
                          </ul><ul class="function-list__return"><li>Returns 1 if the time cannot be determined.</li>
            </ul>
        
        
      <a name="path_relative_to_config_base"></a>
    <h2>path_relative_to_config_base()</h2>
    <p class="summary">Echo a path relative to config_path_base.</p>
    
        
        <pre><code>If the path begins with / it is unchanged.</code></pre>
        
      <a name="path_relative_to_root"></a>
    <h2>path_relative_to_root()</h2>
    <p class="summary">Expand a relative path using $ROOT as base.</p>
    
        
        <pre><code>If the path begins with / it is unchanged.</code></pre>
        
      <a name="path_resolve"></a>
    <h2>path_resolve()</h2>
    <p class="summary">Resolve a path to an absolute link; if already absolute, do nothing.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The dirname to use if $2 is not absolute</li>
              <li>$2: The path to make absolute if not starting with /</li>
                          </ul><ul class="function-list__return"><li>Returns nothing</li>
            </ul>
        
        
      <a name="path_unresolve"></a>
    <h2>path_unresolve()</h2>
    <p class="summary">Echo a relative path by removing a leading directory(ies).</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The dirname to remove from the left of $2</li>
              <li>$2: The path to make relative by removing $1, if possible.</li>
                        </ul>
        
        <pre><code>The trailing slash will always be removed.  The relative path is returned<br />
without a leading slash.  If it cannot be unresolved, any leading slash will<br />
remain.  If the two arguments are the same, &#039;.&#039; will be returned.</code></pre>
        
      <a name="string_lower"></a>
    <h2>string_lower()</h2>
    <p class="summary">Echo the lowercase version of a string.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to convert to lowercase.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="string_repeat"></a>
    <h2>string_repeat()</h2>
    <p class="summary">Repeat a string N times.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to repeat.</li>
              <li>$2: The number of repetitions.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="string_split"></a>
    <h2>string_split()</h2>
    <p class="summary">Split a string by a delimiter.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The delimiter string.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if .</li>
            </ul>
        
        <pre><code>string_split__string<br />
string_split__array<br />
@code<br />
 string_split__string=&quot;do&lt;br /&gt;re&lt;br /&gt;mi&quot;<br />
 string_split &#039;&lt;br /&gt;&#039; &amp;&amp; local words=(&quot;${string_split__array[@]}&quot;)<br />
@endcode</code></pre>
        
      <a name="string_ucfirst"></a>
    <h2>string_ucfirst()</h2>
    <p class="summary">Echo the string with it&#039;s first letter in uppercase.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to convert</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="string_upper"></a>
    <h2>string_upper()</h2>
    <p class="summary">Echo the uppercase version of a string.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to convert to uppercase.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="succeed_because"></a>
    <h2>succeed_because()</h2>
    <p class="summary">Add a success reason to be shown on exit.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: string The reason for the success.</li>
              <li>$2: string A default value if $1 is empty.</li>
                          </ul><ul class="function-list__return"><li>Returns 1 if both $message and $default are empty; 0 if successful.</li>
            </ul>
        
        <pre><code>@code<br />
  succeed_because &quot;$reason&quot; &quot;Some default if $reason is empty&quot;<br />
@endcode</code></pre>
        
      <a name="table_add_row"></a>
    <h2>table_add_row()</h2>
    <p class="summary">Send any number of arguments, each is a column value for a single row.</p>
    
        
        
      <a name="table_clear"></a>
    <h2>table_clear()</h2>
    <p class="summary">Clear all rows from the table definition.</p>
    
        
        
      <a name="table_has_rows"></a>
    <h2>table_has_rows()</h2>
    <p class="summary">Determine if the table definition has any rows.</p>
    
        
        
      <a name="table_set_header"></a>
    <h2>table_set_header()</h2>
    <p class="summary">Set the column headers for a table.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$@: Each argument is the column header value.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <a name="tempdir"></a>
    <h2>tempdir()</h2>
    <p class="summary">Echo a temporary directory filepath.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: string An optional directory name to use.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if successful</li>
            </ul>
        
        <pre><code>If you do not provide $1 then a new temporary directory is created each time<br />
you call tempdir.  If you do provide $1 and call tempdir more than once with<br />
the same value for $1, the same directory will be returned each time--a shared<br />
directory within the system&#039;s temporary filesystem with the name passed as $1.<br />
It is a common pattern to pass $CLOUDY_NAME as the argument as this will<br />
create a folder based on the name of your script.</code></pre>
        
      <a name="test_fail_because"></a>
    <h2>test_fail_because()</h2>
    <p class="summary">Add a failure message to be shown on exit.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: string The reason for the failure.</li>
              <li>$2: string A default value if $1 is empty.</li>
                          </ul><ul class="function-list__return"><li>Returns 1 if both $message and $default are empty.</li>
            </ul>
        
        <pre><code>@code<br />
  test_fail_because &quot;$reason&quot; &quot;Some default if $reason is empty&quot;<br />
@endcode</code></pre>
        
      <a name="throw"></a>
    <h2>throw()</h2>
    <p class="summary">Echo an exception message and exit.</p>
    
        
        
      <a name="time_local"></a>
    <h2>time_local()</h2>
    <p class="summary">Echo the current local time as hours/minutes with optional seconds.</p>
    
        
        <pre><code>options -<br />
  -s - Include the seconds</code></pre>
        
      <a name="timestamp"></a>
    <h2>timestamp()</h2>
    <p class="summary">Echo the current unix timestamp.</p>
    
        
        
      <a name="translate"></a>
    <h2>translate()</h2>
    <p class="summary">Echo the translation of a message id into $CLOUDY_LANGUAGE.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The untranslated message.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if translated; 2 if not translated.</li>
            </ul>
        
        
      <a name="url_add_cache_buster"></a>
    <h2>url_add_cache_buster()</h2>
    <p class="summary">Add a cache-busting timestamp to an URL and echo the new url.</p>
    
        
        
      <a name="url_host"></a>
    <h2>url_host()</h2>
    <p class="summary">Echo the host portion an URL.</p>
    
        
        
      <a name="validate_input"></a>
    <h2>validate_input()</h2>
    <p class="summary">Validate the CLI input arguments and options.</p>
    
        
        
      <a name="wait_for_any_key"></a>
    <h2>wait_for_any_key()</h2>
    <p class="summary">Prompt the user to read a message and press any key to continue.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to show the user.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing</li>
            </ul>
        
        
      <a name="warn_because"></a>
    <h2>warn_because()</h2>
    <p class="summary">Add a warning message to be shown on success exit; not shown on failure exits.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: string The warning message.</li>
              <li>$2: string A default value if $1 is empty.</li>
                          </ul><ul class="function-list__return"><li>Returns 1 if both $message and $default are empty; 0 if successful.</li>
            </ul>
        
        <pre><code>@code<br />
  warn_because &quot;$reason&quot; &quot;Some default if $reason is empty&quot;<br />
@endcode<br />
@todo Should this show if a failure exit?</code></pre>
        
      <a name="write_log"></a>
    <h2>write_log()</h2>
    <p class="summary">You may include 1 or two arguments; when 2, the first is a log label</p>
    
        
        
      <a name="write_log_alert"></a>
    <h2>write_log_alert()</h2>
    <p class="summary">Writes a log message using the alert level.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$@: Any number of strings to write to the log.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success or 1 if the log cannot be written to.</li>
            </ul>
        
        
      <a name="write_log_critical"></a>
    <h2>write_log_critical()</h2>
    <p class="summary">Write to the log with level critical.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <a name="write_log_debug"></a>
    <h2>write_log_debug()</h2>
    <p class="summary">Write to the log with level debug.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <a name="write_log_dev_warning"></a>
    <h2>write_log_dev_warning()</h2>
    <p class="summary">Log states that should only be thus during development or debugging.</p>
    
        
        <pre><code>Adds a &quot;... in dev only message to your warning&quot;</code></pre>
        
      <a name="write_log_emergency"></a>
    <h2>write_log_emergency()</h2>
    <p class="summary">@link https://www.php-fig.org/psr/psr-3/</p>
    
        
        
      <a name="write_log_error"></a>
    <h2>write_log_error()</h2>
    <p class="summary">Write to the log with level error.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <a name="write_log_info"></a>
    <h2>write_log_info()</h2>
    <p class="summary">Write to the log with level info.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <a name="write_log_notice"></a>
    <h2>write_log_notice()</h2>
    <p class="summary">Write to the log with level notice.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <a name="write_log_warning"></a>
    <h2>write_log_warning()</h2>
    <p class="summary">Write to the log with level warning.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <a name="yaml_add_line"></a>
    <h2>yaml_add_line()</h2>
    <p class="summary">Add a line to our YAML data.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: string</li>
                          </ul><ul class="function-list__return"><li>Returns 0.</li>
            </ul>
        
        
      <a name="yaml_clear"></a>
    <h2>yaml_clear()</h2>
    <p class="summary">Empties the YAML string from earlier builds, making ready anew.</p>
    
        
        
      <a name="yaml_get"></a>
    <h2>yaml_get()</h2>
    <p class="summary">Echos the YAML string as YAML.</p>
    
        
        
      <a name="yaml_get_json"></a>
    <h2>yaml_get_json()</h2>
    <p class="summary">Echos the YAML string as JSON.</p>
    
        
        
      <a name="yaml_set"></a>
    <h2>yaml_set()</h2>
    <p class="summary">Sets the value of the YAML string.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: string</li>
                          </ul><ul class="function-list__return"><li>Returns 0</li>
            </ul>
        
        <pre><code>You can use this to convert YAML to JSON:<br />
  yaml_set &quot;$yaml&quot;<br />
  json=$(yaml_get_json)</code></pre>
        
  </div>
</section></section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager"><a href="README.html" class="prev README">&laquo;Cloudy</a><a href="index.html" class="index pager__book-title">Cloudy</a><a href="CHANGELOG.html" class="next changelog">Cloudy Changelog&raquo;</a></div>  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 1.3.10 &bull; Last Updated: Fri, 15 Jul 2022 22:24:35 -0700</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function () {
      $('#tipue_search_input').tipuesearch();
    });
  </script>
<script src="js/core.js"></script>
</body>
</html>

