<!DOCTYPE html>

<html>
<head>
  <title>Cloudy API</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--api">
<header>
  <div class="pager">
  <a href="conventions.html" class="prev conventions">&laquo;Cloudy Conventions</a>
  <a href="index.html" class="index">Index</a>
  <a href="testing.html" class="next testing">Unit Testing&raquo;</a>
</div>
</header>

  <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>

  <h1>Cloudy API</h1>
  <div class="breadcrumb"><a href="index.html">Index</a></div>

<section><h2>Cloudy Functions</h2>

<div class="function-index">
      <a href="#array_has_value">array_has_value</a>
      <a href="#array_join">array_join</a>
      <a href="#array_sort">array_sort</a>
      <a href="#array_sort_by_item_length">array_sort_by_item_length</a>
      <a href="#confirm">confirm</a>
      <a href="#date8601">date8601</a>
      <a href="#debug">debug</a>
      <a href="#dir_has_files">dir_has_files</a>
      <a href="#echo_blue">echo_blue</a>
      <a href="#echo_blue_list">echo_blue_list</a>
      <a href="#echo_elapsed">echo_elapsed</a>
      <a href="#echo_error">echo_error</a>
      <a href="#echo_green">echo_green</a>
      <a href="#echo_green_list">echo_green_list</a>
      <a href="#echo_heading">echo_heading</a>
      <a href="#echo_key_value">echo_key_value</a>
      <a href="#echo_list">echo_list</a>
      <a href="#echo_red">echo_red</a>
      <a href="#echo_red_highlight">echo_red_highlight</a>
      <a href="#echo_red_list">echo_red_list</a>
      <a href="#echo_slim_table">echo_slim_table</a>
      <a href="#echo_table">echo_table</a>
      <a href="#echo_title">echo_title</a>
      <a href="#echo_warning">echo_warning</a>
      <a href="#echo_white">echo_white</a>
      <a href="#echo_yellow">echo_yellow</a>
      <a href="#echo_yellow_highlight">echo_yellow_highlight</a>
      <a href="#echo_yellow_list">echo_yellow_list</a>
      <a href="#event_dispatch">event_dispatch</a>
      <a href="#event_listen">event_listen</a>
      <a href="#exit_with_cache_clear">exit_with_cache_clear</a>
      <a href="#exit_with_failure">exit_with_failure</a>
      <a href="#exit_with_failure_if_config_is_not_path">exit_with_failure_if_config_is_not_path</a>
      <a href="#exit_with_failure_if_empty_config">exit_with_failure_if_empty_config</a>
      <a href="#exit_with_help">exit_with_help</a>
      <a href="#exit_with_init">exit_with_init</a>
      <a href="#exit_with_success">exit_with_success</a>
      <a href="#fail">fail</a>
      <a href="#fail_because">fail_because</a>
      <a href="#get_command">get_command</a>
      <a href="#get_command_arg">get_command_arg</a>
      <a href="#get_config">get_config</a>
      <a href="#get_config_as">get_config_as</a>
      <a href="#get_config_keys">get_config_keys</a>
      <a href="#get_config_keys_as">get_config_keys_as</a>
      <a href="#get_config_path">get_config_path</a>
      <a href="#get_config_path_as">get_config_path_as</a>
      <a href="#get_installed">get_installed</a>
      <a href="#get_option">get_option</a>
      <a href="#get_title">get_title</a>
      <a href="#get_version">get_version</a>
      <a href="#has_command">has_command</a>
      <a href="#has_command_args">has_command_args</a>
      <a href="#has_failed">has_failed</a>
      <a href="#has_option">has_option</a>
      <a href="#has_options">has_options</a>
      <a href="#implement_cloudy_basic">implement_cloudy_basic</a>
      <a href="#is_installed">is_installed</a>
      <a href="#list_add_item">list_add_item</a>
      <a href="#list_clear">list_clear</a>
      <a href="#list_has_items">list_has_items</a>
      <a href="#parse_args">parse_args</a>
      <a href="#path_extension">path_extension</a>
      <a href="#path_filename">path_filename</a>
      <a href="#path_relative_to_config_base">path_relative_to_config_base</a>
      <a href="#path_relative_to_root">path_relative_to_root</a>
      <a href="#string_lower">string_lower</a>
      <a href="#string_repeat">string_repeat</a>
      <a href="#string_split">string_split</a>
      <a href="#string_upper">string_upper</a>
      <a href="#succeed_because">succeed_because</a>
      <a href="#table_add_row">table_add_row</a>
      <a href="#table_clear">table_clear</a>
      <a href="#table_has_rows">table_has_rows</a>
      <a href="#table_set_header">table_set_header</a>
      <a href="#tempdir">tempdir</a>
      <a href="#throw">throw</a>
      <a href="#timestamp">timestamp</a>
      <a href="#translate">translate</a>
      <a href="#url_add_cache_buster">url_add_cache_buster</a>
      <a href="#url_host">url_host</a>
      <a href="#validate_input">validate_input</a>
      <a href="#warn_because">warn_because</a>
      <a href="#write_log">write_log</a>
      <a href="#write_log_alert">write_log_alert</a>
      <a href="#write_log_critical">write_log_critical</a>
      <a href="#write_log_debug">write_log_debug</a>
      <a href="#write_log_dev_warning">write_log_dev_warning</a>
      <a href="#write_log_emergency">write_log_emergency</a>
      <a href="#write_log_error">write_log_error</a>
      <a href="#write_log_info">write_log_info</a>
      <a href="#write_log_notice">write_log_notice</a>
      <a href="#write_log_warning">write_log_warning</a>
  </div>

<h2>Cloudy Test Functions</h2>

<p>The following functions available with: <code>source
"$CLOUDY_ROOT/inc/cloudy.testing.sh"</code></p>

<div class="function-index">
      <a href="#assert_contains">assert_contains</a>
      <a href="#assert_count">assert_count</a>
      <a href="#assert_empty">assert_empty</a>
      <a href="#assert_equals">assert_equals</a>
      <a href="#assert_exit_status">assert_exit_status</a>
      <a href="#assert_false">assert_false</a>
      <a href="#assert_file_exists">assert_file_exists</a>
      <a href="#assert_file_not_exists">assert_file_not_exists</a>
      <a href="#assert_internal_type">assert_internal_type</a>
      <a href="#assert_not_contains">assert_not_contains</a>
      <a href="#assert_not_empty">assert_not_empty</a>
      <a href="#assert_not_equals">assert_not_equals</a>
      <a href="#assert_not_internal_type">assert_not_internal_type</a>
      <a href="#assert_reg_exp">assert_reg_exp</a>
      <a href="#assert_same">assert_same</a>
      <a href="#assert_true">assert_true</a>
      <a href="#do_tests_in">do_tests_in</a>
      <a href="#exit_with_test_results">exit_with_test_results</a>
      <a href="#mark_test_skipped">mark_test_skipped</a>
  </div>

<h2>Functions In Depth By Name</h2>

<div class="function-list">
      <h2 id="array_has_value">array_has_value()</h2>
    <p class="summary">Search $array_has_value__array for a value.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The value to search for in array.</li>
                        </ul>
        
        <pre><code>array_has_value__array<br />
You must provide your array as $array_has_value__array like so:<br />
@code<br />
  array_has_value__array=(&quot;${some_array_to_search[@]}&quot;)<br />
  array_has &quot;tree&quot; &amp;&amp; echo &quot;found tree&quot;<br />
@endcode</code></pre>
        
      <h2 id="array_join">array_join()</h2>
    <p class="summary">Echo a string, which is an array joined by a substring.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to use to glue the pieces together with.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if all goes well; 1 on failure.</li>
            </ul>
        
        <pre><code>array_join__array</code></pre>
        
      <h2 id="array_sort">array_sort()</h2>
    <p class="summary">Mutate an array sorting alphabetically.</p>
    
        
        <pre><code>array_sort__array</code></pre>
        
      <h2 id="array_sort_by_item_length">array_sort_by_item_length()</h2>
    <p class="summary">Mutate an array sorting by the length of each item, short ot long</p>
    
        
        <pre><code>array_sort__array<br />
@code<br />
 array_sort_by_item_length__array=(&quot;september&quot; &quot;five&quot; &quot;three&quot; &quot;on&quot;)<br />
 array_sort_by_item_length<br />
@endcode</code></pre>
        
      <h2 id="assert_contains">assert_contains()</h2>
    <p class="summary">Assert that an array contains a value.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The value to search for.</li>
              <li>$2: The name of a global variable.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_count">assert_count()</h2>
    <p class="summary">Assert that an array has a given number of elements.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected length.</li>
              <li>$2: The name of a global array.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_empty">assert_empty()</h2>
    <p class="summary">Assert that variable by name is empty.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The name of a global variable.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_equals">assert_equals()</h2>
    <p class="summary">Assert that two values are equal in value but not necessarily type.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected value.</li>
              <li>$2: The value to test.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_exit_status">assert_exit_status()</h2>
    <p class="summary">Assert a function returns a given exit code.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$: </li>
                        </ul>
        
        <pre><code>Here are three examples of how to call...<br />
@code<br />
  array_sort; assert_exit_status 0<br />
  $(has_option &#039;name&#039;); assert_exit_status 0<br />
  has_option &#039;name&#039; &gt; /dev/null; assert_exit_status 0<br />
@endcode</code></pre>
        
      <h2 id="assert_false">assert_false()</h2>
    <p class="summary">Assert that a value equals &quot;false&quot; or &quot;FALSE&quot;.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The value to test.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_file_exists">assert_file_exists()</h2>
    <p class="summary">Assert that a file exists by path.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The filepath of the expected file.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_file_not_exists">assert_file_not_exists()</h2>
    <p class="summary">Assert that a file does not exist at path.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The filepath to ensure does not exist.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_internal_type">assert_internal_type()</h2>
    <p class="summary">Assert that an global variable is of a given type.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected type.</li>
              <li>$2: The name of a global variable.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_not_contains">assert_not_contains()</h2>
    <p class="summary">Assert that an array does not contain a value.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The value to search for.</li>
              <li>$2: The name of a global variable.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_not_empty">assert_not_empty()</h2>
    <p class="summary">Assert that variable by name is not empty.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The actual value</li>
              <li>$2: A custom message on failure.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_not_equals">assert_not_equals()</h2>
    <p class="summary">Assert that two values are not the same.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected value.</li>
              <li>$2: The value to test.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_not_internal_type">assert_not_internal_type()</h2>
    <p class="summary">Assert that an global variable is not of a given type.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected type.</li>
              <li>$2: The name of a global variable.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_reg_exp">assert_reg_exp()</h2>
    <p class="summary">Assert that a value matches a regular expression.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The regular expression.</li>
              <li>$2: The value to match against the regexp.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="assert_same">assert_same()</h2>
    <p class="summary">Assert that two values are equal and of the same type.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The expected value.</li>
              <li>$2: The value to test.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        <pre><code>@todo is this needed, since bash is untyped?</code></pre>
        
      <h2 id="assert_true">assert_true()</h2>
    <p class="summary">Assert that a value equals &quot;true&quot; or &quot;TRUE&quot;.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The value to test.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if assertion is true; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="confirm">confirm()</h2>
    <p class="summary">Prompt for a Y or N confirmation.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The confirmation message</li>
                    </ul>Options: <ul class="function-list__options">
                  <li>--caution: Use when answering Y requires caution.</li>
                  <li>--danger: Use when answering Y is a dangerous thing.</li>
                            </ul><ul class="function-list__return"><li>Returns 0 if the user answers Y; 1 if not.</li>
            </ul>
        
        
      <h2 id="date8601">date8601()</h2>
    <p class="summary">Return the current datatime in ISO8601 in UTC.</p>
    
        
        <pre><code>options -<br />
  -c - Remove hyphens and colons for use in a filename</code></pre>
        
      <h2 id="debug">debug()</h2>
    <p class="summary">Echo the arguments sent to this is an eye-catching manner.</p>
    
        
        <pre><code>Call as in the example below for better tracing.<br />
@code<br />
  debug &quot;Some message to show|$0|$FUNCNAME|$LINENO&quot;<br />
@endcode</code></pre>
        
      <h2 id="dir_has_files">dir_has_files()</h2>
    <p class="summary">Determine if a given directory has any files in it.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to a directory to check</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the path contains non-hidden files or 1 if not.</li>
            </ul>
        
        
      <h2 id="do_tests_in">do_tests_in()</h2>
    <p class="summary">Perform all tests in a file.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to a test file.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if all tests pass; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="echo_blue">echo_blue()</h2>
    <p class="summary">Echo a string with blue text.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_blue_list">echo_blue_list()</h2>
    <p class="summary">@param $echo_list__array</p>
    
        
        
      <h2 id="echo_elapsed">echo_elapsed()</h2>
    <p class="summary">Echo the elapsed time in seconds since the beginning of the script.</p>
    
        
        
      <h2 id="echo_error">echo_error()</h2>
    <p class="summary">Echo an error message</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The error message.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_green">echo_green()</h2>
    <p class="summary">Echo a string with green text.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_green_list">echo_green_list()</h2>
    <p class="summary">@param $echo_list__array</p>
    
        
        
      <h2 id="echo_heading">echo_heading()</h2>
    <p class="summary">Echo a heading string.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The heading string.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_key_value">echo_key_value()</h2>
    <p class="summary">$DESCRIPTION</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: $PARAM$</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if $END$.</li>
            </ul>
        
        
      <h2 id="echo_list">echo_list()</h2>
    <p class="summary">Echo an array as a bulletted list.</p>
    
        
        <pre><code>@param $echo_list__array<br />
You must add items to your list first:<br />
@code<br />
  list_add_item &quot;List item&quot;<br />
  echo_list<br />
@endcode<br />
@see echo_list__array=(&quot;${some_array_to_echo[@]}&quot;)</code></pre>
        
      <h2 id="echo_red">echo_red()</h2>
    <p class="summary">Echo a string with red text.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_red_highlight">echo_red_highlight()</h2>
    <p class="summary">Echo a string with a red background.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_red_list">echo_red_list()</h2>
    <p class="summary">@param $echo_list__array</p>
    
        
        
      <h2 id="echo_slim_table">echo_slim_table()</h2>
    <p class="summary">Echo a slim version of the table as it&#039;s been defined.</p>
    
        
        
      <h2 id="echo_table">echo_table()</h2>
    <p class="summary">Echo the table as it&#039;s been defined.</p>
    
        
        
      <h2 id="echo_title">echo_title()</h2>
    <p class="summary">Echo a title string.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The title string.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_warning">echo_warning()</h2>
    <p class="summary">Echo a warning message</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The warning message.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_white">echo_white()</h2>
    <p class="summary">Echo a string with white text.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_yellow">echo_yellow()</h2>
    <p class="summary">Echo a string with yellow text.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_yellow_highlight">echo_yellow_highlight()</h2>
    <p class="summary">Echo a string with a yellow background.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to echo.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="echo_yellow_list">echo_yellow_list()</h2>
    <p class="summary">@param $echo_list__array</p>
    
        
        
      <h2 id="event_dispatch">event_dispatch()</h2>
    <p class="summary">Dispatch that an event has occurred to all listeners.</p>
    
        
        <pre><code>Additional arguments beyond $1 are passed on to the listeners.</code></pre>
        
      <h2 id="event_listen">event_listen()</h2>
    <p class="summary">Register an event listener.</p>
    
        
        
      <h2 id="exit_with_cache_clear">exit_with_cache_clear()</h2>
    <p class="summary">Empties caches in $CLOUDY_ROOT (or other directory if provided) and exits.</p>
    
        
        
      <h2 id="exit_with_failure">exit_with_failure()</h2>
    <p class="summary">@option --status=N Optional, set the exit status, a number &gt; 0</p>
    
        
        
      <h2 id="exit_with_failure_if_config_is_not_path">exit_with_failure_if_config_is_not_path()</h2>
    <p class="summary">Test a global config variable to see if it points to an existing path.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The config path, used by get_config</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the variable exists and points to a file; exits otherwise with 1.</li>
            </ul>
        
        
      <h2 id="exit_with_failure_if_empty_config">exit_with_failure_if_empty_config()</h2>
    <p class="summary">Checks for a non-empty variable in memory or exist with failure.</p>
    
        
        <pre><code>Asks the user to add to their configuration filepath.<br />
@param string<br />
  This should be the same as passed to get_config, using dot separation.<br />
@option as=name<br />
  If the configuration has been renamed, send the memory var name --as=varname.</code></pre>
        
      <h2 id="exit_with_help">exit_with_help()</h2>
    <p class="summary">Echo the help screen and exit.</p>
    
        
        
      <h2 id="exit_with_init">exit_with_init()</h2>
    <p class="summary">Performs an initialization (setup default config, etc.)</p>
    
        
        <pre><code>You must set up an init command in your core config file.<br />
Then call this function from inside `on_pre_config`, e.g.<br />
[[ &quot;$(get_command)&quot; == &quot;init&quot; ]] &amp;&amp; exit_with_init<br />
The translation service is not yet bootstrapped in on_pre_config, so if you<br />
want to alter the strings printed you can do something like this:<br />
if [[ &quot;$(get_command)&quot; == &quot;init&quot; ]]; then<br />
    CLOUDY_FAILED=&quot;Initialization failed.&quot;<br />
    CLOUDY_SUCCESS=&quot;Initialization complete.&quot;<br />
    exit_with_init<br />
fi</code></pre>
        
      <h2 id="exit_with_success">exit_with_success()</h2>
    <p class="summary">Echo a success message plus success reasons and exit</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The success message to use.</li>
                          </ul><ul class="function-list__return"><li>Returns 0.</li>
            </ul>
        
        
      <h2 id="exit_with_test_results">exit_with_test_results()</h2>
    <p class="summary">Echo test results and exit.</p>
    
        
        
      <h2 id="fail">fail()</h2>
    <p class="summary">Set the exit status to fail with no message.  Does not stop execution.</p>
    
        
        <pre><code>Try not to use this because it gives no indication as to why<br />
@option --status=N Optional, set the exit status, a number &gt; 0<br />
@see exit_with_failure</code></pre>
        
      <h2 id="fail_because">fail_because()</h2>
    <p class="summary">Add a failure message to be shown on exit.</p>
    
        
        
      <h2 id="get_command">get_command()</h2>
    <p class="summary">Echo the command that was used to call the script.</p>
    
        
        
      <h2 id="get_command_arg">get_command_arg()</h2>
    <p class="summary">Return a operation argument by zero-based index key.</p>
    
        
        <pre><code>As an example see the following code:<br />
@code<br />
  ./script.sh action blue apple<br />
  get_command --&gt; &quot;action&quot;<br />
  get_command_arg 0 --&gt; &quot;blue&quot;<br />
  get_command_arg 1 --&gt; &quot;apple&quot;<br />
@endcode</code></pre>
        
      <h2 id="get_config">get_config()</h2>
    <p class="summary">Get a config path assignment.</p>
    
        
        <pre><code>@code<br />
  eval $(get_config &#039;path.to.config&#039;)<br />
@code<br />
When requesting an array you must pass -a as the first argument if there&#039;s<br />
any chance that the return value will be empty.<br />
@code<br />
  eval $(get_config &#039;path.to.string&#039; &#039;default_value&#039;)<br />
  eval $(get_config -a &#039;path.to.array&#039; &#039;default_value&#039;)<br />
@code</code></pre>
        
      <h2 id="get_config_as">get_config_as()</h2>
    <p class="summary">Get config path but assign it&#039;s value to a custom variable.</p>
    
        
        <pre><code>@code<br />
  eval $(get_config_as &#039;title&#039; &#039;path.to.some.title&#039; &#039;default&#039;)<br />
  eval $(get_config_as &#039;title&#039; -a &#039;path.to.some.array&#039; )<br />
@code</code></pre>
        
      <h2 id="get_config_keys">get_config_keys()</h2>
    <p class="summary">Echos eval code for the keys of a configuration associative array.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to the config item, e.g. &quot;files.private&quot;</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <h2 id="get_config_keys_as">get_config_keys_as()</h2>
    <p class="summary">Echo eval code for keys of a configuration associative array using custom var.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to the config item, e.g. &quot;files.private&quot;</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <h2 id="get_config_path">get_config_path()</h2>
    <p class="summary">Echo eval code for paths of a configuration item.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to the config item, e.g. &quot;files.private&quot;</li>
                    </ul>Options: <ul class="function-list__options">
                  <li>-a: If you are expecting an array</li>
                            </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <h2 id="get_config_path_as">get_config_path_as()</h2>
    <p class="summary">Echo eval code for paths of a configuration item using custom var.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The path to the config item, e.g. &quot;files.private&quot;</li>
                    </ul>Options: <ul class="function-list__options">
                  <li>-a: If you are expecting an array</li>
                            </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <h2 id="get_installed">get_installed()</h2>
    <p class="summary">Echo the path to an installed program.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The name of the program you need.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if .</li>
            </ul>
        
        
      <h2 id="get_option">get_option()</h2>
    <p class="summary">Echo the value of a script option, or a default.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The name of the option</li>
              <li>$2: A default value if the option was not used.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the option was used; 2 if the default is echoed.</li>
            </ul>
        
        
      <h2 id="get_title">get_title()</h2>
    <p class="summary">Echo the title as defined in the configuration.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: A default value if no title is defined.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="get_version">get_version()</h2>
    <p class="summary">Echos the version of the script.</p>
    
        
        
      <h2 id="has_command">has_command()</h2>
    <p class="summary">Determine if the script was called with a command.</p>
    
        
        
      <h2 id="has_command_args">has_command_args()</h2>
    <p class="summary">Determine if there are any arguments for the script &quot;command&quot;.</p>
    
        
        
      <h2 id="has_failed">has_failed()</h2>
    <p class="summary">Determine if any failure reasons have been defined yet.</p>
    
        
        
      <h2 id="has_option">has_option()</h2>
    <p class="summary">Determine if the script was called with a given option.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The option to check for.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if the option was used; 1 if not.</li>
            </ul>
        
        
      <h2 id="has_options">has_options()</h2>
    <p class="summary">Determine if any options were used when calling the script.</p>
    
        
        
      <h2 id="implement_cloudy_basic">implement_cloudy_basic()</h2>
    <p class="summary">Implement cloudy common commands and options.</p>
    
        
        <pre><code>An optional set of commands for all scripts.  This is just the handlers,<br />
you must still set up the commands in the config file as usual.</code></pre>
        
      <h2 id="is_installed">is_installed()</h2>
    <p class="summary">Test if a program is installed on the system.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The name of the program to check for.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if installed; 1 otherwise.</li>
            </ul>
        
        
      <h2 id="list_add_item">list_add_item()</h2>
    <p class="summary">Add an item to the list.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to add as a list item.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        <pre><code>echo_list__array</code></pre>
        
      <h2 id="list_clear">list_clear()</h2>
    <p class="summary">Remove all items from the list.</p>
    
        
        
      <h2 id="list_has_items">list_has_items()</h2>
    <p class="summary">Detect if the list has any items.</p>
    
        
        
      <h2 id="mark_test_skipped">mark_test_skipped()</h2>
    <p class="summary">Mark a single test as skipped</p>
    
        
        
      <h2 id="parse_args">parse_args()</h2>
    <p class="summary">Parses arguments into options, args and option values.</p>
    
        
        <pre><code>Use this in your my_func function: parse_args &quot;$@&quot;<br />
The following variables are generated for:<br />
@code<br />
  my_func -ab --tree=life do re<br />
@endcode</code></pre>
        
      <h2 id="path_extension">path_extension()</h2>
    <p class="summary">Return the extension of a file.</p>
    
        
        
      <h2 id="path_filename">path_filename()</h2>
    <p class="summary">Return the basename less the extension.</p>
    
        
        
      <h2 id="path_relative_to_config_base">path_relative_to_config_base()</h2>
    <p class="summary">Echo a path relative to config_path_base.</p>
    
        
        <pre><code>If the path begins with / it is unchanged.</code></pre>
        
      <h2 id="path_relative_to_root">path_relative_to_root()</h2>
    <p class="summary">Expand a relative path using $ROOT as base.</p>
    
        
        <pre><code>If the path begins with / it is unchanged.</code></pre>
        
      <h2 id="string_lower">string_lower()</h2>
    <p class="summary">Echo the lowercase version of a string.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to convert to lowercase.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="string_repeat">string_repeat()</h2>
    <p class="summary">Repeat a string N times.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to repeat.</li>
              <li>$2: The number of repetitions.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="string_split">string_split()</h2>
    <p class="summary">Split a string by a delimiter.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The delimiter string.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if .</li>
            </ul>
        
        <pre><code>string_split__string<br />
string_split__array<br />
@code<br />
 string_split__string=&quot;do&lt;br /&gt;re&lt;br /&gt;mi&quot;<br />
 string_split &#039;&lt;br /&gt;&#039; &amp;&amp; local words=(&quot;${string_split__array}&quot;)<br />
@endcode</code></pre>
        
      <h2 id="string_upper">string_upper()</h2>
    <p class="summary">Echo the uppercase version of a string.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The string to convert to uppercase.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="succeed_because">succeed_because()</h2>
    <p class="summary">Add a success reason to be shown on exit.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The success reason.</li>
                          </ul><ul class="function-list__return"><li>Returns 1 if the message is empty; 0 otherwise.</li>
            </ul>
        
        
      <h2 id="table_add_row">table_add_row()</h2>
    <p class="summary">Send any number of arguments, each is a column value for a single row.</p>
    
        
        
      <h2 id="table_clear">table_clear()</h2>
    <p class="summary">Clear all rows from the table definition.</p>
    
        
        
      <h2 id="table_has_rows">table_has_rows()</h2>
    <p class="summary">Determine if the table definition has any rows.</p>
    
        
        
      <h2 id="table_set_header">table_set_header()</h2>
    <p class="summary">Set the column headers for a table.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$@: Each argument is the column header value.</li>
                          </ul><ul class="function-list__return"><li>Returns nothing.</li>
            </ul>
        
        
      <h2 id="tempdir">tempdir()</h2>
    <p class="summary">Create and echo a new temp directory.</p>
    
        
        
      <h2 id="throw">throw()</h2>
    <p class="summary">Echo an exception message and exit.</p>
    
        
        
      <h2 id="timestamp">timestamp()</h2>
    <p class="summary">Echo the current unix timestamp.</p>
    
        
        
      <h2 id="translate">translate()</h2>
    <p class="summary">Echo the translation of a message id into $CLOUDY_LANGUAGE.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The untranslated message.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 if translated; 2 if not translated.</li>
            </ul>
        
        
      <h2 id="url_add_cache_buster">url_add_cache_buster()</h2>
    <p class="summary">Add a cache-busting timestamp to an URL and echo the new url.</p>
    
        
        
      <h2 id="url_host">url_host()</h2>
    <p class="summary">Echo the host portion an URL.</p>
    
        
        
      <h2 id="validate_input">validate_input()</h2>
    <p class="summary">Validate the CLI input arguments and options.</p>
    
        
        
      <h2 id="warn_because">warn_because()</h2>
    <p class="summary">Add a warning message to be shown on exit.</p>
    
        
        
      <h2 id="write_log">write_log()</h2>
    <p class="summary">You may include 1 or two arguments; when 2, the first is a log label</p>
    
        
        
      <h2 id="write_log_alert">write_log_alert()</h2>
    <p class="summary">Writes a log message using the alert level.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$@: Any number of strings to write to the log.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success or 1 if the log cannot be written to.</li>
            </ul>
        
        
      <h2 id="write_log_critical">write_log_critical()</h2>
    <p class="summary">Write to the log with level critical.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <h2 id="write_log_debug">write_log_debug()</h2>
    <p class="summary">Write to the log with level debug.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <h2 id="write_log_dev_warning">write_log_dev_warning()</h2>
    <p class="summary">Log states that should only be thus during development or debugging.</p>
    
        
        <pre><code>Adds a &quot;... in dev only message to your warning&quot;</code></pre>
        
      <h2 id="write_log_emergency">write_log_emergency()</h2>
    <p class="summary">@link https://www.php-fig.org/psr/psr-3/</p>
    
        
        
      <h2 id="write_log_error">write_log_error()</h2>
    <p class="summary">Write to the log with level error.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <h2 id="write_log_info">write_log_info()</h2>
    <p class="summary">Write to the log with level info.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <h2 id="write_log_notice">write_log_notice()</h2>
    <p class="summary">Write to the log with level notice.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
      <h2 id="write_log_warning">write_log_warning()</h2>
    <p class="summary">Write to the log with level warning.</p>
    
          Arguments: <ul class="function-list__arguments">
              <li>$1: The message to write.</li>
                          </ul><ul class="function-list__return"><li>Returns 0 on success.</li>
            </ul>
        
        
  </div>
</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager">
  <a href="conventions.html" class="prev conventions">&laquo;Cloudy Conventions</a>
  <a href="index.html" class="index">Index</a>
  <a href="testing.html" class="next testing">Unit Testing&raquo;</a>
</div>
  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 1.0.6 &bull; Last Updated: Fri, 05 Oct 2018 16:31:57 -0700</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function () {
      $('#tipue_search_input').tipuesearch();
    });
  </script>
<script src="js/core.js"></script>
</body>
</html>

